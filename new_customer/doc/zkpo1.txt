                       Електронна пошта
Нацiональний банк України         Кримському республiканському
Департамент iнформатизацiї          управлiнню НБУ,
Управлiння комп`ютерних           Територiальним управлiнням НБУ,
технологiй НБУ                    Головному управлiнню НБУ по
                                      м.Києву та областi,
                                  ОПЕРУ НБУ,
                                  Центральнiй розрахунковiй палатi,
                                  комерцiйним банкам та обласним
                                    управлiнням Держказначейства
                                    - учасникам системи електронних
                                    платежiв
                                  Розробникам САБ
11.10.2001 N 24-112/1550

Тема: електроннi платежi

     Передаємо вам  методику розрахунку контрольного числа iден-
тифiкацiйного коду Єдиного державного реєстру пiдприємств та ор-
ганiзацiй України (ЄДРПОУ), надану Державним комiтетом статисти-
ки України (лист N 02-04-05/236 вiд 03.10.2001.).
     Ураховуючи, що   використання   iдентифiкацiйного   коду  в
платiжних документах є  обов`язковим,  рекомендуємо  здiйснювати
перевiрку iдентифiкацiйного  коду  на  правильнiсть контрольного
числа при формуваннi електронних платiжних документiв.
     Також рекомендуємо перевiрити за допомогою наданої методики
iдентифiкацiйнi коди  клiєнтiв  за  ЄДРПОУ,  що  зберiгаються  у
довiдниках вашої САБ, на правильнiсть контрольного числа.

     Контроль реквiзитiв "Iдентифiкацiйний код" клiєнта-вiдправ-
ника та клiєнта-одержувача на правильнiсть контрольного числа (у
випадку вказання кода за ЄДРПОУ) буде впроваджено в СЕП з 05.11.
2001 року.
     Стосовно кодiв клiєнтiв за реєстрами ДРФО та ТРДПА, методи-
ки їх перевiрки можуть бути наданi пiзнiше, тiльки у разi надан-
ня їх Державною податковою адмiнiстрацiєю.


Директор Департаменту                       А.С. Савченко
iнформатизацiї НБУ

вик. Л.В. Гончаренко
ARM123@U0H0  265-38-90
-----------------------------------------------------------------
             Методика розрахунку контрольного числа
       iдентифiкацiйного коду Єдиного державного реєстру
               пiдприємств та органiзацiй України

     У зв`язку з великим значенням  iдентифiкацiйних  кодiв  при
автоматизованiй обробцi  iнформацiї,  яка надходить вiд об`єктiв
народного господарства,  для захисту  кодiв  введено  контрольне
число (КЧ). Основне призначення КЧ - захист вiд помилок, якi ви-
никають в процесi первинної обробки,  передачi даних i виявленнi
їх при вводi iнформацiї в ПЕОМ.
     КЧ знаходиться в найменшому розрядi iдентифiкацiйного коду.
     Методика розрахунку КЧ полягає в слiдуючому:

     1. Кожному  розряду  iдентифiкацiйного  коду,  починаючи  з
найстаршого, надається ваговий коефiцiєнт:

------------------------------------T---T---T---T---T---T---T---¬
¦ Номер розряду числа               ¦ 1 ¦ 2 ¦ 3 ¦ 4 ¦ 5 ¦ 6 ¦ 7 ¦
+-----------------------------------+---+---+---+---+---+---+---+
¦ Значення вагового коефiцiєнту (Wi)¦   ¦   ¦   ¦   ¦   ¦   ¦   ¦
¦ для iд.кодiв < 30 000 000 i       ¦ 1 ¦ 2 ¦ 3 ¦ 4 ¦ 5 ¦ 6 ¦ 7 ¦
¦              > 60 000 000         ¦   ¦   ¦   ¦   ¦   ¦   ¦   ¦
+-----------------------------------+---+---+---+---+---+---+---+
¦ Значення вагового коефiцiєнту (Wi)¦   ¦   ¦   ¦   ¦   ¦   ¦   ¦
¦ для iд.кодiв > 30 000 000 i       ¦ 7 ¦ 1 ¦ 2 ¦ 3 ¦ 4 ¦ 5 ¦ 6 ¦
¦              < 60 000 000         ¦   ¦   ¦   ¦   ¦   ¦   ¦   ¦
L-----------------------------------+---+---+---+---+---+---+----

     2. Проводиться  розрахунок   КЧ   для   конкретного   iден-
тифiкацiйного коду.  Для цього кожна цифра (Di), яка займає пев-
ний розряд даного коду,  множиться на ваговий коефiцiєнт розряду
(Wi) i обчислюється сума отриманих добуткiв.
                      7
                 S = SUM Wi * Di            (1)
                     i=1

     3. Контрольне число iдентифiкацiйного коду - це залишок вiд
дiлення одержаної суми (S) на 11 i виражається формулою:

                    КЧ = S - | S/11 | * 11 ,

     де | S/11 | - цiла частина результату дiлення (частки).

     4. Контрольне число повинно мати один розряд, тобто

                 КЧ = 0,1,2,3,4,5,6,7,8 або 9.

     5. Якщо при розрахунку контрольного числа одержується зали-
шок, який дорiвнює 10,  то для забезпечення  однорозрядностi  КЧ
необхiдно провести перерахунок, застосовуючи другу послiдовнiсть
вагових коефiцiєнтiв, яка здвинута на два розряди влiво: (3,4,5,
6,7,8,9) або (9,3,4,5,6,7,8).

     6. Якщо  при  повторному  розрахунку КЧ залишок вiд дiлення
знову буде дорiвнювати 10, то iдентифiкацiйному коду надати КЧ=0.

     Приклад. Необхiдно визначити контрольне число такого  iден-
тифiкацiйного коду: 0490301. В цьому випадку:

     Di = (0, 4, 9, 0, 3, 0, 1);
     Wi = (1, 2, 3, 4, 5, 6, 7);
     S = 1*0 + 2*4 + 3*9 + 4*0 + 5*3 + 6*0 + 7*1 = 57

     | S/11 | = | 57/11 | = 5 (залишок 2)

     КЧ = 57 - 11*5 = 2

     Правильно побудований iдентифiкацiйний код - 04903012.

     При перевiрцi правильностi iдентифiкацiйних кодiв необхiдно
визначити суму по формулi (1), подiлити її на 11 i одержаний вiд
дiлення залишок  зрiвняти iз значенням контрольного числа.  Якщо
значення залишку i  контрольного  числа  спiвпадають,  то  iден-
тифiкацiйний код вважається правильним. В iншому випадку iденти-
фiкацiйний код вважається помилковим за виключенням  того,  коли
залишок дорiвнює 10.  Якщо залишок вiд дiлення дорiвнює 10, про-
водиться перерахунок суми (1),  використовуючи послiдовнiсть ва-
гових коефiцiєнтiв вiдповiдно п.5, визначається новий залишок
вiд дiлення одержаної суми на 11 i порiвнюється з КЧ. Якщо зали-
шок спiвпадає  з КЧ,  а також у випадку,  коли одержаний залишок
дорiвнює 10, а КЧ=0, iдентифiкацiйний код вважається правильним,
у iншому випадку - помилковим.


